<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>


        <record id="view_project_edit_form_inherit" model="ir.ui.view">
            <field name="name">project.edit.project.inherit</field>
            <field name="model">project.project</field>
            <field name="inherit_id" ref="project.edit_project"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='partner_id']" position="after">
                    <field name="industry_id"/>
                    <field name="team_helpdesk_id"/>
                    <field name="implementation_owner_ids" widget="many2many_tags"/>
                    <field name="development_owner_ids" widget="many2many_tags"/>

                </xpath>
                <xpath expr="//header/button[@name='action_open_share_project_wizard']" position="after">
                    <button name="action_set_out_of_support_stage"
                            string="Set Out of Support"
                            type="object"
                            class="btn-primary"
                            groups="project.group_project_manager"/>
                </xpath>

                <xpath expr="//field[@name='date_start']" position="after">
                    <field name="start_project_date" string="Project Date" widget="daterange"
                           options='{"end_date_field": "end_project_date", "always_range": "1"}'
                           groups="project.group_project_user,project.group_project_manager"/>
                    <field name="end_project_date" invisible="1"
                           groups="project.group_project_user,project.group_project_manager"/>

                    <field name="free_support_start_date" string="Free Support Date" widget="daterange"
                           options='{"end_date_field": "free_support_end_date", "always_range": true}'/>
                    <field name="free_support_end_date" invisible="1" required="free_support_start_date"/>

                    <field name="contract_project_start_date" string="Contract Support Date" widget="daterange"
                           options='{"end_date_field": "contract_project_end_date", "always_range": true}'/>
                    <field name="contract_project_end_date" invisible="1" required="contract_project_start_date"/>
                </xpath>
                <xpath expr="//page[@name='description']" position="attributes">
                    <attribute name="groups">project.group_project_user,project.group_project_manager</attribute>
                </xpath>

                <xpath expr="//page[@name='settings']" position="after">
                    <page name="attachments" string="Attachments" groups="project.group_project_user,project.group_project_manager">
                        <notebook>
                            <page string="project scope">
                                <field name="attachment_project_scope_ids" mode="list,form">
                                    <list editable="bottom">
                                        <field name="name"/>
                                        <field name="document_date"/>
                                        <field name="datas" filename="name"/>
                                    </list>
                                </field>
                            </page>
                            <page string="Plan">
                                <field name="attachment_plan_ids" mode="list,form">
                                    <list editable="bottom">
                                        <field name="name"/>
                                        <field name="document_date"/>
                                        <field name="datas" filename="name"/>
                                    </list>
                                </field>
                            </page>
                            <page string="Stakeholder">
                                <field name="attachment_stakeholder_ids" mode="list,form">
                                    <list editable="bottom">
                                        <field name="name"/>
                                        <field name="document_date"/>
                                        <field name="datas" filename="name"/>
                                    </list>
                                </field>
                            </page>
                            <page string="BRD">
                                <field name="attachment_brd_ids" mode="list,form">
                                    <list editable="bottom">
                                        <field name="name"/>
                                        <field name="document_date"/>
                                        <field name="datas" filename="name"/>
                                    </list>
                                </field>
                            </page>
                            <page string="UAT">
                                <field name="attachment_uat_ids" mode="list,form">
                                    <list editable="bottom">
                                        <field name="name"/>
                                        <field name="document_date"/>
                                        <field name="datas" filename="name"/>
                                    </list>
                                </field>
                            </page>
                            <page string="Training">
                                <field name="attachment_training_ids" mode="list,form">
                                    <list editable="bottom">
                                        <field name="name"/>
                                        <field name="document_date"/>
                                        <field name="datas" filename="name"/>
                                    </list>
                                </field>
                            </page>
                            <page string="MOM">
                                <field name="attachment_mom_ids" mode="list,form">
                                    <list editable="bottom">
                                        <field name="name"/>
                                        <field name="document_date"/>
                                        <field name="datas" filename="name"/>
                                    </list>
                                </field>
                            </page>
                            <page string="Closing">
                                <field name="attachment_closing_ids" mode="list,form">
                                    <list editable="bottom">
                                        <field name="name"/>
                                        <field name="document_date"/>
                                        <field name="datas" filename="name"/>
                                    </list>
                                </field>
                            </page>
                        </notebook>
                    </page>
                </xpath>


                <xpath expr="//page[@name='attachments']" position="after">
                    <page name="OutOfSupport" string="Reason Out Of Support">
                        <field name="out_of_support_log_ids" mode="list">
                            <list editable="bottom">
                                <field name="reason"/>
                                <field name="stage_name" readonly="True"/>
                                <field name="date"/>
                            </list>
                        </field>
                    </page>
                </xpath>


            </field>
        </record>

    </data>
</odoo>